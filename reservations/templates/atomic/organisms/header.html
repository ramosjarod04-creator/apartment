<ul class="nav-menu">
    <li><a href="{% url 'dashboard' %}" class="nav-link">Dashboard</a></li>
    
    {% if user.is_staff %}
        <li><a href="{% url 'admin_dashboard' %}" class="nav-link">Admin Panel</a></li>
    {% endif %}
    
    <li>
        <a href="{% if not user.is_staff %}{% url 'my_apartment' %}{% else %}{% url 'apartment_list' %}{% endif %}" class="nav-link">
            {% if not user.is_staff %}My Apartment{% else %}Apartments{% endif %}
        </a>
    </li>
    
    <li><a href="{% url 'reservation_list' %}" class="nav-link">Reservations</a></li>

    <div class="nav-actions">
        <a href="{% url 'inbox' %}" class="nav-icon-link">
            ✉️ Messages
            {% if unread_messages_count > 0 %}
                <span class="badge">{{ unread_messages_count }}</span>
            {% endif %}
        </a>
        
        <a href="{% url 'reservation_create' %}" class="btn btn-primary">Book Now</a>
        
        <div class="user-info">
            <span class="username">{{ user.username }}</span>
            <a href="{% url 'logout' %}" class="logout-link">Logout</a>
        </div>
    </div>
</ul>

<style>
    .nav-menu { display: flex; align-items: center; gap: 1rem; list-style: none; }
    .nav-link { text-decoration: none; color: var(--gray-700); font-weight: 600; font-size: 0.95rem; }
    .nav-actions { display: flex; align-items: center; gap: 1.5rem; margin-left: 1rem; }
    .user-info { display: flex; flex-direction: column; line-height: 1.2; }
    .logout-link { color: #ef4444; font-size: 0.8rem; text-decoration: none; font-weight: 700; }
    .badge { background: #ef4444; color: white; font-size: 0.7rem; padding: 2px 6px; border-radius: 10px; }

    @media (max-width: 768px) {
        .nav-menu { flex-direction: column; align-items: flex-start; gap: 2rem; }
        .nav-actions { flex-direction: column; align-items: flex-start; margin-left: 0; width: 100%; }
        .btn-primary { width: 100%; text-align: center; }
    }
</style>
